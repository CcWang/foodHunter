<div ng-controller = 'resController'>
  <div class="row">
    <div class="col s12">
      <p class="chip offset-s1 col s1" >Welcome <span ng-bind='user.name'></span></p>
      <!-- change distance -->

      <div class="fixed-action-btn horizontal" style="top: 25px; right: 24px;">
        <a class="btn-floating btn-large red">
          <i class="large material-icons">place</i>
        </a>
        <ul>
          <li><a class="btn-floating red" ng-click='changeDistance(8000)'><i class="material-icons">directions_car</i></a></li>
          <li><a class="btn-floating yellow darken-1" ng-click='changeDistance(3200)'><i class="material-icons">directions_bike</i></a></li>
          <li><a class="btn-floating green"><i class="material-icons" ng-click='changeDistance(1600)'>directions_walk</i></a></li>
        </ul>
      </div>

<!-- log out, go back buttons -->
      <div class="fixed-action-btn horizontal click-to-toggle" style="bottom: 45px; right: 24px;">
        <a class="btn-floating btn-large red">
          <i class="large material-icons"></i>
        </a>
        <ul>
          <li><a class="btn-floating red ">
            <i class="material-icons" ng-click='logoff()'>clear</i></a>
          </li>
          <li><a class="btn-floating yellow darken-1" href="#/restaurant"><i class="material-icons">undo</i></a></li>
        </ul>
      </div>

    </div>

     <div class="col s10 offset-s1">
       <div class="col s12">
       <!-- {{currentList}} -->
           <div class="col s12"><h4>{{currentList}}</h4></div>
           <div ng-repeat = 'value in restaurants[currentList].businesses | orderBy: "value.rating"' style="display: inline-block;" class="col s4">
                <div>
                  <p>{{value.name}}</p>
                  <p>{{value.location.city}} | {{value.location.postal_code}}</p>
                  <img src="{{value.rating_img_url}}"> | <span>{{value.review_count}} reviews</span><br>
                  <img class="resImg" src="{{value.image_url}}"><br>
                  <p>{{value.location.address[0]}}</p>
                  <p ng-if='!value.location.address[0]'>Click Details for address</p>
                  <p>{{value.phone}}</p>
                  <p ng-if='!value.phone'>No Phone Number</p>
                  <img src="./static/images/yelp-logo-small.jpg">
                  <a class="waves-effect waves-teal btn" target="_blank" href="{{value.url}}"  ng-click='updateRes(value.name,value.url,currentList)'>detail </a>
                </div>  
            </div>
       </div>
     </div>

     <!-- loading circle -->
      <div ng-hide='currentList' class="preloader-wrapper big active" style="left:45%;">
        <div class="spinner-layer spinner-blue">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>

  </div>
</div>